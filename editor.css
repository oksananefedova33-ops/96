/* ============ ZERRO EDITOR ‚Äì ADAPTIVE VERSION (FIXED) ============ */
body {
  margin: 0;
  background: #0e141b;
  color: #e6f0fa;
  font: 14px/1.4 system-ui, Segoe UI, Roboto;
}

.topbar {
  display: flex;
  gap: 8px;
  align-items: center;
  padding: 10px 12px;
  background: #0f1622;
  border-bottom: 1px solid #1f2b3b;

  /* FIX: –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏–∏ –Ω–µ —Å–∂–∏–º–∞–µ–º –∫–Ω–æ–ø–∫–∏, –∞ –¥–∞—ë–º –≥–æ—Ä–∏–∑–æ–Ω—Ç–∞–ª—å–Ω—ã–π —Å–∫—Ä–æ–ª–ª */
  overflow-x: auto;
  overscroll-behavior-x: contain;
}

.btn {
  padding: 6px 10px;
  border: 1px solid #203043;
  border-radius: 8px;
  background: #132031;
  color: #e6f0fa;
  cursor: pointer;
  transition: all 0.2s;
}

.btn:hover {
  background: #1a2a3f;
}

.btn.ghost {
  background: transparent;
}

.btn.danger {
  background: #3a1f1f;
  border-color: #542b2b;
}

.wrap {
  display: grid;
  grid-template-columns: var(--nav-w, 280px) 1fr 320px;
  gap: 12px;
  padding: 12px;
}

.panel {
  background: #0f1622;
  border: 1px solid #1f2b3b;
  border-radius: 12px;
  padding: 12px;
  overflow-y: auto;
  max-height: calc(100vh - 100px);
}

.stage {
  position: relative;
  margin: 0 auto;
  background: #0b1118;
  border: 1px dashed #1e2a3a;
  border-radius: 12px;
  min-height: 720px;
  height: 1500px;
  overflow-y: auto;
  overflow-x: hidden;
  transition: width 0.3s ease;
  box-sizing: border-box;
}

/* === DEVICE FRAMES === */
.device-frame {
  display: flex;
  justify-content: center;
  align-items: flex-start;
  padding: 20px;
  min-height: 760px;
}


/* === FIX: editor stage height equals front (vw) === */
.stage.editing-desktop { height: 125vw !important;  min-height: 0 !important; }     /* 1500/1200*100 */
.stage.editing-tablet  { height: 195.3125vw !important; min-height: 0 !important; } /* 1500/768*100  */
.stage.editing-mobile  { height: 400vw !important;  min-height: 0 !important; }     /* 1500/375*100  */
/* === END FIX === */
/* === EDITING MODES (—Ç–æ–ª—å–∫–æ —Ä–∞–º–∫–∏ –¥–ª—è –∏–Ω–¥–∏–∫–∞—Ü–∏–∏) === */
.stage.editing-desktop {
  box-shadow: none;
  border: 2px solid #1e2a3a;
}

.stage.editing-tablet {
  box-shadow: 0 0 15px rgba(46, 168, 255, 0.2);
  border: 2px solid #2ea8ff;
}

.stage.editing-mobile {
  box-shadow: 0 0 15px rgba(46, 168, 255, 0.3);
  border: 2px solid #2ea8ff;
}

/* === DEVICE INDICATOR === */
.device-indicator {
  position: fixed;
  top: 80px;
  left: 50%;
  transform: translateX(-50%);
  background: #2ea8ff;
  color: white;
  padding: 8px 20px;
  border-radius: 20px;
  font-weight: bold;
  z-index: 10000;
  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
  animation: slideDown 0.3s ease;
}

@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateX(-50%) translateY(-10px);
  }
  to {
    opacity: 1;
    transform: translateX(-50%) translateY(0);
  }
}

/* === DEVICE BUTTONS === */
[data-device] {
  transition: all 0.2s ease;
}

[data-device].active {
  background: #2ea8ff !important;
  color: #ffffff !important;
  border-color: #1e98ef !important;
  box-shadow: 0 0 10px rgba(46, 168, 255, 0.4);
}

[data-device]:hover {
  background: #1a2a3f;
}

/* === ELEMENTS === */
.el {
  position: absolute;
  box-sizing: border-box;
  cursor: move;
  overflow: visible; /* –î–û–ë–ê–í–õ–Ø–ï–ú: —á—Ç–æ–±—ã –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –æ–±—Ä–µ–∑–∞–ª—Å—è */
}

/* –î–û–ë–ê–í–õ–Ø–ï–ú –Ω–æ–≤–æ–µ –ø—Ä–∞–≤–∏–ª–æ –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
/* –¢–µ–∫—Å—Ç–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç: –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ—Ç—Å—Ç—É–ø–æ–≤,
   —á—Ç–æ–±—ã –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —É—Å—Ç—Ä–æ–π—Å—Ç–≤ –Ω–µ ¬´—Ä–∞—Å–ø–æ–ª–∑–∞–ª–∏—Å—å¬ª –∞–±–∑–∞—Ü—ã –∏ —Å–ø–∏—Å–∫–∏ */
.el[data-type="text"] {
  min-height: 30px;
  padding: 8px;
  word-wrap: break-word;
  overflow-wrap: break-word;
}

/* —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ margin/padding —É –±–ª–æ—á–Ω—ã—Ö —Ç–µ–≥–æ–≤ */
.el[data-type="text"] p,
.el[data-type="text"] h1,
.el[data-type="text"] h2,
.el[data-type="text"] h3,
.el[data-type="text"] h4,
.el[data-type="text"] h5,
.el[data-type="text"] h6,
.el[data-type="text"] ul,
.el[data-type="text"] ol {
  margin: 0;
  padding: 0;
}

/* –∞–∫–∫—É—Ä–∞—Ç–Ω—ã–π –æ—Ç—Å—Ç—É–ø –º–µ–∂–¥—É –ø—É–Ω–∫—Ç–∞–º–∏ —Å–ø–∏—Å–∫–∞ */
.el[data-type="text"] li {
  margin: 0 0 .35em;
}

/* –Ω–µ–º–Ω–æ–≥–æ –º–µ—Å—Ç–∞ –º–µ–∂–¥—É –∞–±–∑–∞—Ü–∞–º–∏, –µ—Å–ª–∏ –æ–Ω–∏ –∏–¥—É—Ç –ø–æ–¥—Ä—è–¥ */
.el[data-type="text"] p + p { margin-top: .35em; }

.el.selected {
  outline: 2px solid #2ea8ff;
  box-shadow: 0 0 10px rgba(46, 168, 255, 0.3);
}

/* Handle –¥–ª—è —Ä–µ—Å–∞–π–∑–∞ */
.el .handle {
  position: absolute;
  width: 10px;
  height: 10px;
  background: #2ea8ff;
  border: 2px solid #06121f;
  z-index: 10001;
  box-shadow: 0 0 0 2px rgba(7, 15, 26, 0.6);
}

.el .handle-nw { top: -6px; left: -6px; cursor: nw-resize; border-radius: 50%; }
.el .handle-n { top: -6px; left: 50%; transform: translateX(-50%); cursor: n-resize; }
.el .handle-ne { top: -6px; right: -6px; cursor: ne-resize; border-radius: 50%; }
.el .handle-w { top: 50%; left: -6px; transform: translateY(-50%); cursor: w-resize; }
.el .handle-e { top: 50%; right: -6px; transform: translateY(-50%); cursor: e-resize; }
.el .handle-sw { bottom: -6px; left: -6px; cursor: sw-resize; border-radius: 50%; }
.el .handle-s { bottom: -6px; left: 50%; transform: translateX(-50%); cursor: s-resize; }
.el .handle-se { bottom: -6px; right: -6px; cursor: se-resize; border-radius: 50%; }

/* –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —ç–ª–µ–º–µ–Ω—Ç–∞ */
.el .el-tools {
  position: absolute;
  left: 6px;
  top: 100%;
  transform: translateY(6px);
  bottom: auto;
  display: flex;
  gap: 6px;
  z-index: 10000;
  pointer-events: auto;
}

.el .tool {
  width: 28px;
  height: 28px;
  border-radius: 50%;
  border: 1px solid #542b2b;
  background: #3a1f1f;
  color: #fff;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s;
}

.el .tool:hover {
  background: #4a2a2a;
  transform: scale(1.1);
}

.el .tool.del::before {
  content: "üóë";
}

/* –ú–µ–¥–∏–∞ —ç–ª–µ–º–µ–Ω—Ç—ã */
/* –û–±—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ */
.el img,
.el video {
  width: 100%;
  height: 100%;
  border-radius: inherit;
  display: block;
  pointer-events: none !important;
  user-select: none !important;
}

/* –î–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π */
.el[data-type="image"] img {
  object-fit: contain;
  object-position: center;
}

/* –î–ª—è –≤–∏–¥–µ–æ */
.el[data-type="video"] video {
  object-fit: cover;
}

/* === PROPERTIES PANEL === */
.props {
  color: #cfe3ff;
}

.props .row {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 10px;
  margin-bottom: 10px;
}

.props input,
.props textarea {
  width: 100%;
  background: #111925;
  border: 1px solid #213247;
  color: #e4eef9;
  border-radius: 10px;
  padding: 8px;
  transition: border-color 0.2s;
}

.props input:focus,
.props textarea:focus {
  border-color: #2ea8ff;
  outline: none;
}

.props .label {
  color: #9fb2c6;
  margin-bottom: 4px;
}

.palette {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  margin: 6px 0;
}

.palette .sw {
  width: 20px;
  height: 20px;
  border-radius: 6px;
  border: 1px solid #233446;
  cursor: pointer;
  transition: transform 0.2s;
}

.palette .sw:hover {
  transform: scale(1.2);
}

/* === PAGES NAVIGATION === */
.pages {
  overflow-y: auto;
  max-height: 400px;
}

.pages .page-item {
  display: grid;
  grid-template-columns: 120px auto 100px 100px;
  gap: 8px;
  align-items: center;
  margin-bottom: 6px;
  width: 100%;
}

.pages .page-item .name {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.pages .btn {
  width: 100%;
  min-width: auto;
}

.pages .page-item.active {
  background: rgba(46, 168, 255, 0.1);
  border-radius: 8px;
  padding: 4px;
  margin: -4px -4px 2px -4px;
}

.pages .page-item input {
  min-width: 0;
  background: #111925;
  border: 1px solid #213247;
  color: #e4eef9;
  border-radius: 10px;
  padding: 6px;
}

.pages .page-item .btn {
  min-width: auto;
  height: 32px;
}

.pages .page-item .btn.del {
  width: 32px;
  padding: 0;
  text-align: center;
}

/* === RESIZABLE NAVIGATION === */
:root {
  --nav-w: 280px;
}

.nav-panel {
  position: relative;
}

.nav-resizer {
  position: absolute;
  top: 0;
  right: -6px;
  width: 12px;
  height: 100%;
  cursor: col-resize;
}

.nav-resizer::before {
  content: "";
  position: absolute;
  top: 0;
  bottom: 0;
  left: 5px;
  width: 2px;
  background: #1f2b3b;
}

body.nav-resize-active {
  user-select: none;
  cursor: col-resize;
}

/* === VISUAL IMPROVEMENTS === */
.wrap > .panel:first-child {
  position: relative;
  z-index: 10;
}

/* Animation for new elements */
.el {
  animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: scale(0.9);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

/* Responsive */
@media (max-width: 920px) {
  :root {
    --nav-w: 240px;
  }
}

/* Scrollbar styling */
.panel::-webkit-scrollbar {
  width: 6px;
}

.panel::-webkit-scrollbar-track {
  background: #0f1622;
}

.panel::-webkit-scrollbar-thumb {
  background: #2a3441;
  border-radius: 3px;
}

.panel::-webkit-scrollbar-thumb:hover {
  background: #3a4451;
}
/* –°–∫—Ä—ã–≤–∞–µ–º —Ç–æ–ª—å–∫–æ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã–µ handle –¥–ª—è —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
.el[data-type="text"] .handle-n,
.el[data-type="text"] .handle-s {
  display: none;
}
/* === MOBILE PREVIEW NORMALIZATION ===
   Make the editor's MOBILE mode render like the published mobile version */
.stage.editing-mobile .el[data-type="text"]{
  font-size:16px !important;   /* front-end forces 16px on mobile */
  line-height:1.3 !important;  /* match front-end line-height */
}
/* –ù–µ —Ñ–∏–∫—Å–∏—Ä—É–µ–º –≤—ã—Å–æ—Ç—É –∏ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä–µ ‚Äî —Ä–µ–¥–∞–∫—Ç–æ—Ä == —Ñ—Ä–æ–Ω—Ç */
.stage.editing-mobile .el.linkbtn,
.stage.editing-mobile .el.filebtn{
  min-height:0 !important;
}
.topbar { 
  /* ‚Ä¶–æ—Å—Ç–∞–ª—å–Ω—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞‚Ä¶ */
  flex-wrap: wrap;   /* –ø–µ—Ä–µ–Ω–æ—Å–∏–º —Å–∞–º–∏ –∫–Ω–æ–ø–∫–∏, –∞ –Ω–µ –∏—Ö —Ç–µ–∫—Å—Ç */
}

